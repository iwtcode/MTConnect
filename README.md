<div align="center">

# MTConnect Parser

![MTConnect](https://img.shields.io/badge/MTConnect-Compatible-blue)
![Go](https://img.shields.io/badge/Go-1.19+-00ADD8?logo=go)
![License](https://img.shields.io/badge/License-MIT-green)

*ĞŸĞ°Ñ€ÑĞµÑ€ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ° MTConnect XML Ğ² ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ JSON*

</div>

### âœ¨ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

- ğŸ”„ **ĞĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ**: ĞŸĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ñ Ñ‡Ğ°ÑÑ‚Ğ¾Ñ‚Ğ¾Ğ¹ Ğ² 1 ÑĞµĞºÑƒĞ½Ğ´Ñƒ
- ğŸ­ **ĞÑÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ**: ĞÑÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ° MTConnect-ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ğ¾Ğ² Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ³Ğ¾Ñ€ÑƒÑ‚Ğ¸Ğ½
- ğŸ”§ **Ğ£Ğ½Ğ¸Ğ²ĞµÑ€ÑĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ**: Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑ‚Ğ°Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ· /probe, ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ĞµĞ¹
- ğŸŒ **REST API**: ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹ HTTP API Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ JSON

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MTConnect     â”‚    â”‚   MTConnect      â”‚    â”‚      REST       â”‚
â”‚   Endpoints     â”‚â”€â”€â”€â–¸â”‚   Parser         â”‚â”€â”€â”€â–¸â”‚      API        â”‚
â”‚                 â”‚    â”‚                  â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¾
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚  Data Store      â”‚
                       â”‚  (Thread-Safe)   â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

1ï¸âƒ£ **ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ**

```bash
git clone https://github.com/iwtcode/MTConnect.git
cd MTConnect
```

2ï¸âƒ£ **Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ½Ğ° Windows / Linux / MacOS**

```
./build/windows_mtc.exe
./build/linux_mtc
./build/macos_mtc
```

## âš™ï¸ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ² Ñ„Ğ°Ğ¹Ğ» `config/config.json` ÑĞ²Ğ¾Ğ¸ ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹:

```json
{
  "server_port": "8080",
  "endpoints": [
    "http://localhost:5001/Mazak",
    "http://localhost:5001/OKUMA",
    "https://smstestbed.nist.gov/vds"
  ]
}
```

### ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

| ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ |
|---|---|---|
| `server_port` | ĞŸĞ¾Ñ€Ñ‚ Ğ´Ğ»Ñ HTTP ÑĞµÑ€Ğ²ĞµÑ€Ğ° | `"8080"` |
| `endpoints` | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº MTConnect ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ğ¾Ğ² | `[`<br>&nbsp;&nbsp;&nbsp;&nbsp;`"http://machine1",`<br>&nbsp;&nbsp;&nbsp;&nbsp;`"http://machine2"`<br>`]` |

## ğŸ”Œ API

### ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ÑÑ‚Ğ°Ğ½ĞºĞ°

```http
GET /api/{machineId}/current
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°:**
```bash
curl -H "Accept: application/json" http://localhost:8080/api/Mazak/current
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°:**
```json
{
  "MachineId": "Mazak",
  "Id": "Mazak",
  "Timestamp": "2025-08-21T13:03:34.401887Z",
  "IsEnabled": true,
  "IsInEmergency": false,
  "MachineState": "ACTIVE",
  "ProgramMode": "MANUAL",
  "TmMode": "UNAVAILABLE",
  "HandleRetraceStatus": true,
  "AxisMovementStatus": {
    "B": "STOPPED",
    "C2": "TRAVELING",
    "X": "TRAVELING",
    "Y": "HOMING",
    "Z": "TRAVELING"
  },
  "MstbStatus": "UNAVAILABLE",
  "EmergencyStatus": "ARMED",
  "AlarmStatus": "FAULT",
  "EditStatus": "ACTIVE",
  "ManualMode": true,
  "WriteStatus": "ACTIVE",
  "LabelSkipStatus": "UNAVAILABLE",
  "WarningStatus": "WARNING",
  "BatteryStatus": "UNAVAILABLE",
  "activeToolNumber": "57",
  "toolOffsetNumber": "UNAVAILABLE",
  "AxisInfos": [
    {
      "id": "x",
      "name": "X",
      "type": "LINEAR",
      "data": {
        "axis_feedrate": "1966.37",
        "load": "1.07",
        "position": "754.7812",
        "temperature": "74"
      }
    },
    {
      "id": "y",
      "name": "Y",
      "type": "LINEAR",
      "data": {
        "axis_feedrate": "2674.31",
        "load": "48.57",
        "position": "407.0532",
        "temperature": "87"
      }
    },
    {
      "id": "z",
      "name": "Z",
      "type": "LINEAR",
      "data": {
        "axis_feedrate": "884.22",
        "load": "21.8",
        "position": "925.8021",
        "specification_limit": "",
        "temperature": "52"
      }
    }
  ],
  "FeedRate": {
    "ACTUAL": "2695.19"
  },
  "FeedOverride": {
    "PROGRAMMED": "108",
    "RAPID": "95"
  },
  "Alarms": [
    {
      "componentId": "a",
      "componentName": "base",
      "dataItemId": "servo_cond",
      "level": "FAULT",
      "timestamp": "2025-08-21T13:03:33.309229Z",
      "type": "ACTUATOR"
    },
    {
      "componentId": "a",
      "componentName": "base",
      "dataItemId": "spindle_cond",
      "level": "WARNING",
      "timestamp": "2025-08-21T13:03:34.376533Z",
      "type": "SYSTEM"
    }
  ],
  "hasAlarms": true,
  "PartsCount": {
    "ALL": "28"
  },
  "AccumulatedTime": {
    "x:AUTO": "00:23:34",
    "x:CUT": "00:23:34",
    "x:TOTAL": "00:23:34",
    "x:TOTALCUTTIME": "00:23:34"
  },
  "CurrentProgram": {
    "PROGRAM": "PROG-1096",
    "PROGRAM_COMMENT": "PROG-8591",
    "LINE_NUMBER": "6",
    "LINE_LABEL": "N283"
  },
  "SpindleInfos": [
    {
      "id": "br",
      "name": "B",
      "type": "ROTARY",
      "data": {
        "angle": "139.3119",
        "angular_velocity": "6.37283333333333",
        "load": "62.72",
        "rotary_mode": "INDEX"
      }
    },
    {
      "id": "c",
      "name": "C1",
      "type": "ROTARY",
      "data": {
        "load": "43.73",
        "rotary_mode": "SPINDLE",
        "rotary_velocity": "2427.3",
        "temperature": "95"
      }
    },
    {
      "id": "c2",
      "name": "C2",
      "type": "ROTARY",
      "data": {
        "angle": "237.9649",
        "angular_velocity": "39.9876666666667",
        "load": "36.67",
        "rotary_mode": "INDEX"
      }
    }
  ],
  "ContourFeedRate": "UNAVAILABLE",
  "JogOverride": "UNAVAILABLE"
}
```

## ğŸ”§ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
MTConnect/
â”œâ”€â”€ build/
â”‚   â”œâ”€â”€ windows_mtc.exe # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Windows
â”‚   â”œâ”€â”€ linux_mtc       # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Linux
â”‚   â””â”€â”€ macos_mtc       # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ MacOS
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ main.go         # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Golang
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ config.go       # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹
â”‚   â””â”€â”€ config.json     # Ğ¤Ğ°Ğ¹Ğ» ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
â”œâ”€â”€ internal/
|   â””â”€â”€ build/
|       â””â”€â”€ build.go    # Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´Ğ»Ñ ÑĞ±Ğ¾Ñ€ĞºĞ¸
â”‚   â””â”€â”€ mtconnect/
â”‚       â”œâ”€â”€ client.go   # HTTP ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ MTConnect
â”‚       â”œâ”€â”€ models.go   # Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚       â””â”€â”€ parser.go   # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ°
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ LICENSE
â””â”€â”€ README.md
```

## ğŸ†˜ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

- ğŸ› [Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ issue](https://github.com/iwtcode/MTConnect/issues)
- ğŸ“§ ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ğ½Ğ° email: iwtcode@gmail.com

## ğŸ“ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ñ€Ğ°ÑĞ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ´ [Ğ»Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸ĞµĞ¹ MIT](LICENSE)

Copyright (c) 2025 iwtcode